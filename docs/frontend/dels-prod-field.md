# Изменения API: поле `prod` в поставках (Dels)

## Краткое описание

В ответах API поставок (список и по id) добавлено поле **`prod`** с данными производителя: отображаемое название и URL изображения. Фронтенду не требуется отдельный запрос к справочнику производителей для отображения этих данных в карточке или списке поставок.

## Структура поля

```ts
prod?: {
  title: string;   // отображаемое название производителя (Prod.title)
  imageUrl: string; // URL изображения производителя (Prod.imageUrl)
}
```

Поле опционально: у документов, созданных до введения этого изменения, `prod` может отсутствовать.

## Где приходит

| Эндпоинт | Описание |
|----------|----------|
| **GET** `/api/dels` | В каждом элементе массива `data` есть поле `prod` (если заполнено в БД). |
| **GET** `/api/dels/id/:id` | В объекте поставки в `data` присутствует поле `prod`. |
| **POST** `/api/dels` | В созданной поставке в `data` возвращается `prod`, заполненный из справочника Prod по `prodName`. |
| **PATCH** `/api/dels/:id/title` | В обновлённой поставке в `data` возвращается актуальный `prod` (обновляется при смене `prodName`). |

Ответы **PATCH** `/api/dels/:id/artikuls/:artikul` и другие эндпоинты, возвращающие полный документ поставки, также содержат `prod`, если он есть в документе.

## Рекомендации для фронтенда

1. **Обработка отсутствия `prod`**  
   Для старых документов или краевых случаев поле может отсутствовать. Рекомендуется:
   - проверять наличие `del.prod` перед использованием `del.prod.title` или `del.prod.imageUrl`;
   - при отсутствии — не показывать блок производителя или использовать заглушки (например, плейсхолдер для изображения, `del.prodName` как текст).

2. **Типизация (TypeScript)**  
   В типах ответов API для поставки можно описать поле так:
   ```ts
   prod?: { title: string; imageUrl: string };
   ```

3. **Отображение**  
   Поле предназначено для вывода названия и картинки производителя в списках и карточках поставок без дополнительного запроса к GET `/api/prods` или аналогу.
