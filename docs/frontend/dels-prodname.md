# Поставки (Dels): поле производителя (prodName) — изменения для фронтенда

Краткая сводка изменений API поставок, связанных с полем производителя.

## Формат данных

### Объект поставки (Del)

В полном документе и в элементе списка добавлено обязательное поле:

- **prodName** (string) — идентификатор производителя, совпадает с полем `name` в справочнике производителей (Prod). При создании и обновлении сервер проверяет, что производитель с таким `name` существует; иначе возвращается 400.

### Элемент списка (GET `/api/dels`)

Каждый элемент массива в `data` теперь включает поле **prodName** (string). Набор полей: `_id`, `title`, `prodName`, `createdAt`, `updatedAt` (без `artikuls`).

---

## Эндпоинты

### POST `/api/dels` — создание поставки

**Тело запроса (обязательные поля):**

- **title** (string) — название поставки
- **prodName** (string) — имя производителя из справочника (значение `Prod.name`)
- **artikuls** (объект, опционально) — артикулы и количества, по умолчанию `{}`

**Ошибка 400:** при отсутствии или неверной валидации полей, а также если сообщение «Производитель с указанным name не найден» — указанный `prodName` отсутствует в справочнике производителей.

---

### PATCH `/api/dels/:id/title` — обновление названия и производителя

Одна форма на фронте: оба поля отправляются в одном запросе.

**Тело запроса (оба поля обязательны):**

- **title** (string) — новое название поставки
- **prodName** (string) — новый производитель (должен существовать в справочнике как `Prod.name`)

**Успех 200:** в `data` возвращается обновлённый документ поставки (включая `prodName`).

**Ошибка 400:** валидация (в т.ч. отсутствие полей) или сообщение «Производитель с указанным name не найден».

**Ошибка 404:** поставка с указанным `id` не найдена.

---

## Валидация

Значение **prodName** при создании и при обновлении должно совпадать с полем **name** одной из записей в справочнике производителей (API производителей). Если такой записи нет, сервер возвращает 400 с текстом о ненайденном производителе.
